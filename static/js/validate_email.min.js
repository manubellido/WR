if(typeof jQuery=="undefined"){document.write('<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"><\/script>');var __noconflict=true}
(function(a){a(function(){validation_url="/is_email_valid/";invitation_url="/additional_invitations/";jQuery(".btn-primary").click(function(){var b=[];submit_button=a(this);i=0;jQuery("input.verify_email").each(function(){if(a(this).attr("data-valid")=="valid"){b[i]=a(this).val();i++}});if(b.length!=0){submit_button.attr("disabled","disabled");jQuery.ajax({type:"POST",url:invitation_url,data:{emails:b.join(",")},dataType:"json",success:function(c){if(c.is_valid){a("#form_messages").html(c.msg);a("#form_messages").removeAttr("class")}else{a("#form_messages").html(c.error);
a("#form_messages").attr("class","errornote")}submit_button.removeAttr("disabled")},error:function(){submit_button.removeAttr("disabled")}})}});jQuery(".log-reg-form").submit(function(){return false});jQuery(".verify_email").blur(function(){current=a(this).val();previous=a(this).attr("data-previous");id=a(this).attr("id").replace("validation_","");current!=previous&&jQuery.ajax({type:"POST",url:validation_url,data:{email:a(this).val()},dataType:"json",success:function(b){if(b.is_valid){a("#message_"+
id).html("");a("#validation_"+id).attr("data-valid","valid");a("#message_"+id).removeAttr("class")}else{a("#message_"+id).html(b.error);a("#validation_"+id).attr("data-valid","invalid");a("#message_"+id).attr("class","errornote")}}});a(this).attr("data-previous",current)})})})(jQuery);
